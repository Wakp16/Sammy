<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sammy</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#ff4fa3">
<link rel="stylesheet" href="style.css">
</head>
<body>
<canvas id="bgCanvas" aria-hidden="true"></canvas>

<main class="app">

  <!-- Daily View -->
  <section id="dateView" class="view">
    <div id="greeting" class="greeting">Good morning Sammy</div>
    <div id="greeting2" class="greeting greetingAlt">nag breakfast na you?</div>

    <div class="dateWrapper">
      <button id="prevDay" class="sideArrow">&#x25C0;</button>

      <div id="dateBox" class="dateGlow">
        <div class="dateContent">
          <div id="dateBig"></div>
          <div id="weekday"></div>
        </div>

        <svg id="progressSvg" viewBox="0 0 200 200" preserveAspectRatio="xMidYMid meet">
          <circle id="progressCircle" cx="100" cy="100" r="90" stroke="url(#progressGradient)" stroke-width="8" fill="none" stroke-dasharray="0 565" stroke-linecap="round"/>
          <defs>
            <linearGradient id="progressGradient" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0%" stop-color="#ff9ad5" stop-opacity="0.8"/>
              <stop offset="50%" stop-color="#ff4fa3" stop-opacity="0.6"/>
              <stop offset="100%" stop-color="#a80057" stop-opacity="0.4"/>
            </linearGradient>
          </defs>
        </svg>
      </div>

      <button id="nextDay" class="sideArrow">&#x25B6;</button>
    </div>

    <div class="buttonRow">
      <button id="todayBtn" class="glassBtn">Today</button>
      <button id="monthViewBtn" class="glassBtn">Month View</button>
      <button id="deadlineListBtn" class="glassBtn">Deadlines</button>
    </div>
    <div id="updateBanner" class="hidden" style="display:flex;gap:8px;justify-content:center;margin-top:12px;align-items:center;">
      <div style="background:rgba(255,79,163,0.08); padding:8px 12px; border-radius:12px; border:1px solid rgba(255,79,163,0.18);">Update available</div>
      <button id="updateBtn" class="glassBtn">Update</button>
      <button id="dismissUpdateBtn" class="glassBtn">Later</button>
    </div>
  </section>

  <!-- Month View -->
  <section id="monthView" class="view hidden">
    <button id="backMonthBtn" class="glassBtn">&larr; Back</button>
    <h2 id="monthTitle" class="monthTitle"></h2>
    <div id="monthGrid" class="monthGrid"></div>
  </section>

  <!-- Task View -->
  <section id="taskView" class="view hidden">
    <button id="backTaskBtn" class="glassBtn">&larr; Back</button>
    <div id="taskHeader" class="taskHeader"></div>
    <ul id="todoList"></ul>

    <div class="inputRow">
      <input id="taskInput" placeholder="Add task"/>
    </div>
    <div class="deadlineRow">
      <div class="deadlineField">
        <span class="deadlinePlaceholder">Set deadline</span>
        <input id="deadlineInput" type="date" aria-label="Task deadline"/>
      </div>
      <button id="addTask">+</button>
    </div>

    <button id="clearBtn">Clear Day</button>
  </section>

  <!-- Deadline List -->
  <section id="deadlineView" class="view hidden">
    <button id="backDeadlineBtn" class="glassBtn">&larr; Back</button>
    <div class="taskHeader">Deadlines</div>
    <ul id="deadlineList"></ul>
  </section>

  <!-- Edit Modal -->
  <div id="editOverlay" class="modalOverlay hidden">
    <div class="modalCard">
      <div class="modalTitle">Edit Task</div>
      <div class="modalBody">
        <input id="editTaskInput" class="modalInput" placeholder="Task"/>
        <input id="editDeadlineInput" class="modalInput" type="date" aria-label="Edit deadline"/>
      </div>
      <div class="modalActions">
        <button id="editCancelBtn" class="glassBtn">Cancel</button>
        <button id="editSaveBtn" class="glassBtn">Save</button>
      </div>
    </div>
  </div>

</main>

<script src="script.js"></script>
<script src="bg-canvas.js" defer></script>
</body>
</html>
